function hasClass(e,n){return"classList"in e?e.classList.contains(n):new RegExp(n).exec(e.className)}function removeClass(e,n){hasClass(e,n)&&(e.className=e.className.replace(new RegExp("(\\s|^)"+n+"(\\s|$)"),"").replace(/^\s+|\s+$/g,""))}function addClass(e,n){e.className.indexOf(n)==-1&&(e.className+=" "+n)}function grapheneModalClickOpen(){console.log("open "+graphene.className),grapheneModalCookiesCount(),grapheneModalCookiesLastAction(),removeClass(graphene,"graphene--modal-init"),removeClass(grapheneOverlay,"graphene--modal-init"),addClass(graphene,"graphene--modal-show"),addClass(grapheneOverlay,"graphene--modal-show")}function grapheneModalClickClose(){console.log("close "+graphene.className),grapheneModalCookiesLastAction(arguments[0]),removeClass(graphene,"graphene--modal-show"),addClass(graphene,"graphene--modal-hide"),graphene.addEventListener("webkitAnimationEnd",grapheneCleanUp,!0),graphene.addEventListener("animationend",grapheneCleanUp,!0),graphene.addEventListener("onanimationend",grapheneCleanUp,!0),console.log("closed "+graphene.className)}function grapheneCleanUp(){console.log("clean up "+graphene.className),removeClass(graphene,"graphene--modal-hide"),addClass(graphene,"graphene--modal-init"),graphene.removeEventListener("webkitAnimationEnd",grapheneCleanUp,!0),graphene.removeEventListener("animationend",grapheneCleanUp,!0),graphene.removeEventListener("onanimationend",grapheneCleanUp,!0),console.log("cleaned up "+graphene.className)}var graphene=document.getElementById("graphene--modal"),grapheneOverlay=document.getElementById("graphene--modal-overlay");document.all&&!window.atob?(console.log("IE9 or older"),addClass(document.body,"IE9")):addClass(document.body,"notIE9"),document.onkeydown=function(e){e=e||window.event,27==e.keyCode&&grapheneModalClickClose("esc key")},document.getElementById("graphene--modal-overlay").addEventListener("click",function(){grapheneModalClickClose("overlay")}),document.getElementById("graphene--modal-close-btn").addEventListener("click",function(){grapheneModalClickClose("close button")}),document.getElementById("graphene--modal-open-btn").addEventListener("click",function(){grapheneModalClickOpen()}),document.onreadystatechange=function(){"complete"==document.readyState&&grapheneModalClickOpen()};